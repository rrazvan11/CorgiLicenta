<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <p:dataTable id="#{idTabel}" var="vol" value="#{listaVoluntari}"
                 rows="10" paginator="true" paginatorPosition="bottom"
                 emptyMessage="Niciun voluntar în această categorie.">
        <p:column headerText="Nume Complet">
            <h:outputText value="#{vol.numeComplet}"/>
        </p:column>
        <p:column headerText="Email">
            <h:outputText value="#{vol.user.email}"/>
        </p:column>
        <p:column headerText="Departament">
            <p:selectOneMenu value="#{vol.departament}" converter="omnifaces.SelectItemsConverter"
                             disabled="#{vol.user.rol == 'COORDONATOR'}">
                <f:selectItem itemLabel="-- Fără Departament --" itemValue="#{null}"/>
                <f:selectItems value="#{dashboardSecretarBean.departmentList}" var="d" itemLabel="#{d.nume}" itemValue="#{d}"/>
                <p:ajax listener="#{dashboardSecretarBean.laSchimbareaDepartamentului(vol)}" update=":mainForm :growl"/>
            </p:selectOneMenu>
        </p:column>
        <p:column headerText="Status">
            <p:selectOneMenu value="#{vol.status}" disabled="#{vol.user.rol == 'COORDONATOR'}">
                <f:selectItems value="#{vol.status.values()}" var="s" itemValue="#{s}" itemLabel="#{s.name()}"/>
                <p:ajax listener="#{dashboardSecretarBean.laSchimbareaStatusului(vol)}" update=":mainForm :growl"/>
            </p:selectOneMenu>
        </p:column>
        <p:column headerText="Rol">
            <p:selectOneMenu value="#{vol.user.rol}">
                <f:selectItems value="#{vol.user.rol.values()}" var="r" itemValue="#{r}" itemLabel="#{r.name()}"/>
                <p:ajax listener="#{dashboardSecretarBean.laSchimbareaRolului(vol)}" update=":mainForm :growl"/>
            </p:selectOneMenu>
        </p:column>
        <p:column headerText="Acțiuni">
            <p:commandButton value="#{vol.user.activ ? 'Dezactivează' : 'Activează'}"
                             actionListener="#{dashboardSecretarBean.comutaStareCont(vol)}"
                             update=":mainForm :growl"
                             styleClass="#{vol.user.activ ? 'ui-button-warning' : 'ui-button-success'}"/>
        </p:column>
    </p:dataTable>

</ui:composition>
</ui:composition>