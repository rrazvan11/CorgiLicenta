<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/WEB-INF/Templates/layout.xhtml">
    <ui:define name="content">
        <div class="form-page-container">
            <p:panel header="Înregistrare unui nou voluntar" styleClass="form-panel">
                <h:form id="registerVoluntarForm">
                    <p:messages id="messagesGlobal" showDetail="true" closable="true">
                        <p:autoUpdate/>
                    </p:messages>

                    <p:panelGrid columns="2" styleClass="form-input-grid ui-fluid" columnClasses="label-column,input-column">

                        <p:outputLabel for="numeVoluntar" value="Nume voluntar:"/>
                        <p:inputText id="numeVoluntar" value="#{registerVoluntarBean.voluntar.nume}" required="true"
                                     requiredMessage="Numele voluntarului este obligatoriu."/>

                        <p:outputLabel for="prenumeVoluntar" value="Prenume voluntar:"/>
                        <p:inputText id="prenumeVoluntar" value="#{registerVoluntarBean.voluntar.prenume}" required="true"
                                     requiredMessage="Prenumele voluntarului este obligatoriu."/>

                        <p:outputLabel for="emailUser" value="Email:"/>
                        <p:inputText id="emailUser" value="#{registerVoluntarBean.emailUser}" required="true"
                                     requiredMessage="Adresa de email este obligatorie."
                                     validatorMessage="Format email invalid. Exemplu: nume@domeniu.com">
                            <f:validateRegex pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" />
                        </p:inputText>

                        <p:outputLabel for="username" value="Nume utilizator (login):"/>
                        <p:inputText id="username" value="#{registerVoluntarBean.username}" required="true"
                                     requiredMessage="Numele de utilizator este obligatoriu."/>

                        <p:outputLabel for="parola" value="Parolă:"/>
                        <p:password id="parola" value="#{registerVoluntarBean.parola}" required="true">
                        <f:validateLength minimum="12"/>
                        <f:validateRegex pattern="^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{12,}$"
                                         validatorMessage="Parola trebuie să conțină minim 12 caractere, din care un caracter special, o cifră și o majusculă." />
                        </p:password>


                        <p:outputLabel for="confirmParola" value="Confirmă parola:"/>
                        <p:password id="confirmParola" value="#{registerVoluntarBean.confirmParola}" required="true"
                                    requiredMessage="Confirmarea parolei este obligatorie."/>


                        <p:outputLabel for="telefon" value="Telefon:"/>
                        <p:inputText id="telefon" value="#{registerVoluntarBean.voluntar.telefon}"
                                     validatorMessage="Numărul de telefon trebuie să conțină exact 10 cifre.">
                            <f:validateLength minimum="10" maximum="10" />
                            <f:validateRegex pattern="^\d{10}$" />
                        </p:inputText>

                        <p:outputLabel for="facultate" value="Facultate:"/>
                        <p:selectOneMenu id="facultate" value="#{registerVoluntarBean.voluntar.facultate}">
                            <f:selectItem itemLabel="Selectează facultatea..." itemValue="#{null}" noSelectionOption="true"/>
                            <f:selectItems value="#{registerVoluntarBean.facultateValues}" var="fac"
                                           itemLabel="#{fac.name()}" itemValue="#{fac}"/>
                        </p:selectOneMenu>

                        <p:outputLabel for="anStudiu" value="An de studiu:"/>
                        <p:selectOneMenu id="anStudiu" value="#{registerVoluntarBean.voluntar.anStudiu}">
                            <f:selectItem itemLabel="Selectează anul de studiu..." itemValue="#{null}" noSelectionOption="true"/>
                            <f:selectItems value="#{registerVoluntarBean.anStudiuValues}" var="an"
                                           itemLabel="#{an.numeSpecializare}" itemValue="#{an}"/>
                        </p:selectOneMenu>

                        <p:outputLabel for="specializare" value="Specializare:"/>
                        <p:inputText id="specializare" value="#{registerVoluntarBean.voluntar.specializare}"/>

                        <p:outputLabel for="cifOrganizatie" value="CIF organizație afiliere:"/>
                        <p:inputText id="cifOrganizatie" value="#{registerVoluntarBean.cifOrganizatie}" required="true"
                                     requiredMessage="CIF-ul organizației de afiliere este obligatoriu."/>

                    </p:panelGrid>

                    <div class="form-buttons" style="margin-top: 20px; text-align: right;">
                        <p:commandButton value="Înregistrează-mă" action="#{registerVoluntarBean.doRegister}" update="@form :messagesGlobal"/>
                        <p:button outcome="/xhtml/login" value="Anulează și mergi la Login" style="margin-left:10px;"/>
                    </div>
                </h:form>
            </p:panel>
        </div>
    </ui:define>
</ui:composition>
</html>